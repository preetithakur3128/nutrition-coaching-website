<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PT Nutrition Coaching | Transform Your Life</title>
    <meta name="description" content="Lost 20kg in 6 months. Now I help others achieve sustainable weight loss through personalized nutrition guidance.">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
      body { font-family: 'Poppins', sans-serif; }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
      const { useState } = React;
      
      // =============================================
      // SUPABASE API CONFIGURATION
      // =============================================
      const SUPABASE_URL = 'https://tatmroyhephjfgkcegxe.supabase.co';
      const SUPABASE_KEY = 'sb_publishable_0cTBAwjv9wtAGWKI1Ef0Vw_W7RKYlC4';
      const API_URL = `${SUPABASE_URL}/rest/v1/clients`;
      
      // Function to submit to Supabase API
      async function submitToSupabase(formData) {
        const response = await fetch(API_URL, {
          method: 'POST',
          headers: {
            'apikey': SUPABASE_KEY,
            'Authorization': `Bearer ${SUPABASE_KEY}`,
            'Content-Type': 'application/json',
            'Prefer': 'return=representation'
          },
          body: JSON.stringify(formData)
        });
        
        if (!response.ok) {
          throw new Error(`API Error: ${response.status}`);
        }
        
        return await response.json();
      }
      
      // Icons
      const CheckCircle = () => (
        <svg className="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
      );
      
      const TrendingDown = () => (
        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6" />
        </svg>
      );
      
      const Mail = () => (
        <svg className="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
        </svg>
      );
      
      const Phone = () => (
        <svg className="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
        </svg>
      );
      
      const Clock = () => (
        <svg className="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
      );
      
      const Star = () => (
        <svg className="w-5 h-5 text-yellow-400 fill-current" viewBox="0 0 24 24">
          <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
        </svg>
      );

      function NutritionCoachingSite() {
        const [activeSection, setActiveSection] = useState('home');
        const [formSubmitted, setFormSubmitted] = useState(false);
        const [formError, setFormError] = useState(null);
        const [isSubmitting, setIsSubmitting] = useState(false);
        const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
        
        const [formData, setFormData] = useState({
          name: '', email: '', phone: '', service: '',
          current_weight: '', goal_weight: '', message: ''
        });

        const handleInputChange = (e) => {
          setFormData({ ...formData, [e.target.name]: e.target.value });
        };

        const handleSubmit = async (e) => {
  e.preventDefault();
  setIsSubmitting(true);
  setFormError(null);
  
  try {
    const submitData = {
      name: formData.name,
      email: formData.email,
      phone: formData.phone,
      service: formData.service,
      current_weight: formData.current_weight ? parseInt(formData.current_weight) : null,
      goal_weight: formData.goal_weight ? parseInt(formData.goal_weight) : null,
      message: formData.message,
      status: 'new'
    };
    
    // 1. Save to Supabase Database
    await submitToSupabase(submitData);
    console.log('‚úÖ Saved to database');
    
    // 2. Send email via Formspree
    await fetch('https://formspree.io/f/xaqwzyrl', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        name: formData.name,
        email: formData.email,
        phone: formData.phone,
        service: formData.service,
        current_weight: formData.current_weight,
        goal_weight: formData.goal_weight,
        message: formData.message
      })
    });
    console.log('‚úÖ Email sent via Formspree');
    
    // 3. Show success & redirect to home after 3 seconds
    setFormSubmitted(true);
    setFormData({ name: '', email: '', phone: '', service: '', current_weight: '', goal_weight: '', message: '' });
    
    setTimeout(() => {
      setFormSubmitted(false);
      setActiveSection('home');
    }, 3000);
    
  } catch (error) {
    console.error('Error:', error);
    setFormError('Unable to submit. Please try again or email preeti.thakur@tutanota.com');
  } finally {
    setIsSubmitting(false);
  }
};

        const testimonials = [
          { name: "Sarah M.", result: "Lost 15kg in 5 months", text: "The personalized guidance was exactly what I needed!" },
          { name: "Michael K.", result: "Down 18kg", text: "Sustainable approach that actually works for real life." },
          { name: "Anna L.", result: "Lost 12kg", text: "Finally found someone who understands the journey!" }
        ];

        return (
          <div className="min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50">
            {/* Navigation */}
            <nav className="bg-white shadow-md sticky top-0 z-50">
              <div className="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
                <div className="text-2xl font-bold text-green-600">üåø PT Nutrition</div>
                <button className="md:hidden p-2" onClick={() => setMobileMenuOpen(!mobileMenuOpen)}>
                  <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
                  </svg>
                </button>
                <div className="hidden md:flex gap-6">
                  {['home', 'about', 'services', 'testimonials', 'contact'].map((section) => (
                    <button key={section} onClick={() => setActiveSection(section)}
                      className={`capitalize font-medium ${activeSection === section ? 'text-green-600' : 'text-gray-600 hover:text-green-500'}`}>
                      {section}
                    </button>
                  ))}
                </div>
              </div>
              {mobileMenuOpen && (
                <div className="md:hidden bg-white border-t px-4 py-2">
                  {['home', 'about', 'services', 'testimonials', 'contact'].map((section) => (
                    <button key={section} onClick={() => { setActiveSection(section); setMobileMenuOpen(false); }}
                      className={`block w-full text-left py-2 capitalize ${activeSection === section ? 'text-green-600' : 'text-gray-600'}`}>
                      {section}
                    </button>
                  ))}
                </div>
              )}
            </nav>

            {/* Hero */}
            {activeSection === 'home' && (
              <div className="max-w-6xl mx-auto px-4 py-12 md:py-20">
                <div className="grid md:grid-cols-2 gap-12 items-center">
                  <div>
                    <div className="inline-block bg-green-100 text-green-700 px-4 py-2 rounded-full text-sm font-semibold mb-4">
                      ‚ú® My Journey: 65kg ‚Üí 45kg in 6 Months
                    </div>
                    <h1 className="text-4xl md:text-5xl font-bold text-gray-900 mb-6">
                      Transform Your Life Through <span className="text-green-600">Sustainable Nutrition</span>
                    </h1>
                    <p className="text-xl text-gray-600 mb-8">
                      I've walked this path. Now let me guide you through your own transformation.
                    </p>
                    <div className="flex flex-col sm:flex-row gap-4">
                      <button onClick={() => setActiveSection('contact')}
                        className="bg-green-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-green-700 shadow-lg">
                        Start Your Journey ‚Üí
                      </button>
                      <button onClick={() => setActiveSection('about')}
                        className="border-2 border-green-600 text-green-600 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-green-50">
                        My Story
                      </button>
                    </div>
                  </div>
                  <div className="bg-gradient-to-br from-green-400 to-blue-500 rounded-2xl p-8 text-white shadow-2xl">
                    <div className="text-6xl font-bold mb-2">20kg</div>
                    <div className="text-2xl mb-6">Weight Loss Achieved</div>
                    <div className="grid grid-cols-2 gap-4">
                      <div className="bg-white/20 p-4 rounded-lg">
                        <div className="flex items-center gap-2 mb-2"><TrendingDown /><span className="font-semibold">Sustained</span></div>
                        <div className="text-sm">In just 6 months</div>
                      </div>
                      <div className="bg-white/20 p-4 rounded-lg">
                        <div className="flex items-center gap-2 mb-2"><CheckCircle /><span className="font-semibold">Natural</span></div>
                        <div className="text-sm">No supplements</div>
                      </div>
                    </div>
                  </div>
                </div>
                <div className="grid grid-cols-2 md:grid-cols-4 gap-6 mt-16">
                  {[{n:'6',l:'Months Program'},{n:'100%',l:'Natural Methods'},{n:'24h',l:'Response Time'},{n:'1:1',l:'Personal Coaching'}].map((s,i) => (
                    <div key={i} className="bg-white rounded-xl p-6 shadow-lg text-center">
                      <div className="text-3xl font-bold text-green-600 mb-1">{s.n}</div>
                      <div className="text-gray-600 text-sm">{s.l}</div>
                    </div>
                  ))}
                </div>
              </div>
            )}

            {/* About */}
            {activeSection === 'about' && (
              <div className="max-w-4xl mx-auto px-4 py-12 md:py-20">
                <h2 className="text-4xl font-bold text-gray-900 mb-8 text-center">My Transformation Story</h2>
                <div className="bg-white rounded-2xl shadow-xl p-8 mb-8">
                  <div className="flex items-center gap-4 mb-6">
                    <div className="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center text-2xl">üåü</div>
                    <div>
                      <h3 className="text-xl font-bold text-gray-900">PT - Your Nutrition Coach</h3>
                      <p className="text-gray-600">Stuttgart, Germany</p>
                    </div>
                  </div>
                  <p className="text-gray-700 mb-6 text-lg">My journey from <strong>65kg to 45kg</strong> wasn't about quick fixes. Over 6 months, I learned what truly works for sustainable weight management.</p>
                  <p className="text-gray-700 mb-6 text-lg">Working in IT with long hours, stress eating - I've been there. Now I help others achieve their health goals.</p>
                  <div className="bg-green-50 border-l-4 border-green-500 p-4 rounded">
                    <p className="text-green-800 font-medium">üí° <strong>No extreme diets. No supplements. No gym slavery.</strong> Just sustainable changes.</p>
                  </div>
                </div>
                <div className="grid md:grid-cols-3 gap-6">
                  {[{n:'65‚Üí45',l:'kg Transformation'},{n:'6',l:'Months Duration'},{n:'1+ yr',l:'Maintained'}].map((s,i) => (
                    <div key={i} className="bg-white rounded-xl p-6 shadow-lg text-center">
                      <div className="text-4xl font-bold text-green-600 mb-2">{s.n}</div>
                      <div className="text-gray-600">{s.l}</div>
                    </div>
                  ))}
                </div>
                <div className="mt-12 text-center">
                  <button onClick={() => setActiveSection('contact')} className="bg-green-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-green-700">
                    Book Free Discovery Call ‚Üí
                  </button>
                </div>
              </div>
            )}

            {/* Services */}
            {activeSection === 'services' && (
              <div className="max-w-6xl mx-auto px-4 py-12 md:py-20">
                <h2 className="text-4xl font-bold text-gray-900 mb-4 text-center">Consultation Options</h2>
                <p className="text-xl text-gray-600 mb-12 text-center">Choose the format that works best for you</p>
                <div className="grid md:grid-cols-3 gap-8">
                  <div className="bg-white rounded-2xl p-8 shadow-xl">
                    <div className="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-semibold inline-block mb-4">Start Here</div>
                    <div className="text-3xl mb-4">üìû</div>
                    <h3 className="text-2xl font-bold text-gray-900 mb-4">Free Discovery Call</h3>
                    <p className="text-gray-600 mb-6">30-minute call to discuss your goals.</p>
                    <div className="text-3xl font-bold text-green-600 mb-4">FREE</div>
                    <ul className="space-y-2 mb-6">
                      <li className="flex items-center gap-2"><CheckCircle /> 30-minute call</li>
                      <li className="flex items-center gap-2"><CheckCircle /> No obligation</li>
                    </ul>
                    <button onClick={() => setActiveSection('contact')} className="w-full border-2 border-green-600 text-green-600 py-3 rounded-lg font-semibold hover:bg-green-50">Book Free Call</button>
                  </div>
                  <div className="bg-white rounded-2xl p-8 shadow-xl border-2 border-green-500 relative">
                    <div className="absolute -top-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-4 py-1 rounded-full text-sm font-semibold">Most Popular</div>
                    <div className="text-3xl mb-4">üéØ</div>
                    <h3 className="text-2xl font-bold text-gray-900 mb-4">8-Week Transformation</h3>
                    <p className="text-gray-600 mb-6">Complete program with weekly check-ins.</p>
                    <div className="text-3xl font-bold text-green-600 mb-4">‚Ç¨249</div>
                    <ul className="space-y-2 mb-6">
                      <li className="flex items-center gap-2"><CheckCircle /> 8 weekly sessions</li>
                      <li className="flex items-center gap-2"><CheckCircle /> Custom meal plans</li>
                      <li className="flex items-center gap-2"><CheckCircle /> Unlimited WhatsApp</li>
                    </ul>
                    <button onClick={() => setActiveSection('contact')} className="w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700">Get Started</button>
                  </div>
                  <div className="bg-white rounded-2xl p-8 shadow-xl">
                    <div className="text-3xl mb-4">üí¨</div>
                    <h3 className="text-2xl font-bold text-gray-900 mb-4">Single Consultation</h3>
                    <p className="text-gray-600 mb-6">One-time deep dive into your nutrition.</p>
                    <div className="text-3xl font-bold text-green-600 mb-4">‚Ç¨59</div>
                    <ul className="space-y-2 mb-6">
                      <li className="flex items-center gap-2"><CheckCircle /> 60-minute session</li>
                      <li className="flex items-center gap-2"><CheckCircle /> Action plan</li>
                    </ul>
                    <button onClick={() => setActiveSection('contact')} className="w-full border-2 border-green-600 text-green-600 py-3 rounded-lg font-semibold hover:bg-green-50">Book Session</button>
                  </div>
                </div>
              </div>
            )}

            {/* Testimonials */}
            {activeSection === 'testimonials' && (
              <div className="max-w-6xl mx-auto px-4 py-12 md:py-20">
                <h2 className="text-4xl font-bold text-gray-900 mb-4 text-center">Success Stories</h2>
                <p className="text-xl text-gray-600 mb-12 text-center">Real results from real people</p>
                <div className="grid md:grid-cols-3 gap-8">
                  {testimonials.map((t, i) => (
                    <div key={i} className="bg-white rounded-2xl p-8 shadow-xl">
                      <div className="flex gap-1 mb-4">{[...Array(5)].map((_, j) => <Star key={j} />)}</div>
                      <p className="text-gray-700 mb-6 italic">"{t.text}"</p>
                      <div className="border-t pt-4">
                        <div className="font-semibold text-gray-900">{t.name}</div>
                        <div className="text-green-600 font-medium">{t.result}</div>
                      </div>
                    </div>
                  ))}
                </div>
                <div className="mt-12 text-center">
                  <button onClick={() => setActiveSection('contact')} className="bg-green-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-green-700">
                    Start Your Transformation ‚Üí
                  </button>
                </div>
              </div>
            )}

            {/* Contact with Supabase API */}
            {activeSection === 'contact' && (
              <div className="max-w-4xl mx-auto px-4 py-12 md:py-20">
                <h2 className="text-4xl font-bold text-gray-900 mb-4 text-center">Book Your Consultation</h2>
                <p className="text-xl text-gray-600 mb-12 text-center">Take the first step towards your transformation</p>
                
                <div className="bg-white rounded-2xl shadow-xl p-8">
                  {formSubmitted ? (
                    <div className="text-center py-12">
                      <div className="text-6xl mb-4">‚úÖ</div>
                      <h3 className="text-2xl font-bold text-gray-900 mb-2">Thank You!</h3>
                      <p className="text-gray-600 mb-4">Your data has been saved to our database.</p>
                      <p className="text-gray-600">I'll contact you within 24 hours.</p>
                      <button onClick={() => setFormSubmitted(false)} className="mt-6 text-green-600 hover:underline">Submit another inquiry</button>
                    </div>
                  ) : (
                    <form onSubmit={handleSubmit} className="space-y-6">
                      {formError && <div className="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg">‚ùå {formError}</div>}
                      
                      <div>
                        <label className="block text-gray-700 font-semibold mb-2">Full Name *</label>
                        <input type="text" name="name" value={formData.name} onChange={handleInputChange} required
                          className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500" placeholder="Your name" />
                      </div>
                      
                      <div className="grid md:grid-cols-2 gap-6">
                        <div>
                          <label className="block text-gray-700 font-semibold mb-2">Email *</label>
                          <input type="email" name="email" value={formData.email} onChange={handleInputChange} required
                            className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500" placeholder="your.email@example.com" />
                        </div>
                        <div>
                          <label className="block text-gray-700 font-semibold mb-2">Phone (WhatsApp) *</label>
                          <input type="tel" name="phone" value={formData.phone} onChange={handleInputChange} required
                            className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500" placeholder="+49 123 456 789" />
                        </div>
                      </div>
                      
                      <div>
                        <label className="block text-gray-700 font-semibold mb-2">What interests you? *</label>
                        <select name="service" value={formData.service} onChange={handleInputChange} required
                          className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500">
                          <option value="">Select an option...</option>
                          <option value="free-discovery">Free Discovery Call (30 min)</option>
                          <option value="8-week-program">8-Week Transformation (‚Ç¨249)</option>
                          <option value="single-consultation">Single Consultation (‚Ç¨59)</option>
                        </select>
                      </div>
                      
                      <div className="grid md:grid-cols-2 gap-6">
                        <div>
                          <label className="block text-gray-700 font-semibold mb-2">Current Weight (kg)</label>
                          <input type="number" name="current_weight" value={formData.current_weight} onChange={handleInputChange}
                            className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500" placeholder="e.g., 75" />
                        </div>
                        <div>
                          <label className="block text-gray-700 font-semibold mb-2">Goal Weight (kg)</label>
                          <input type="number" name="goal_weight" value={formData.goal_weight} onChange={handleInputChange}
                            className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500" placeholder="e.g., 60" />
                        </div>
                      </div>
                      
                      <div>
                        <label className="block text-gray-700 font-semibold mb-2">Tell me about your goals</label>
                        <textarea name="message" value={formData.message} onChange={handleInputChange} rows="4"
                          className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500" placeholder="What are you hoping to achieve?" />
                      </div>
                      
                      <button type="submit" disabled={isSubmitting}
                        className={`w-full px-8 py-4 rounded-lg text-lg font-semibold shadow-lg ${isSubmitting ? 'bg-gray-400' : 'bg-green-600 text-white hover:bg-green-700'}`}>
                        {isSubmitting ? '‚è≥ Saving to database...' : 'Send Message ‚Üí'}
                      </button>
                      
                      <p className="text-center text-gray-500 text-sm">üîí Your data is securely stored in our database.</p>
                    </form>
                  )}
                </div>

                <div className="mt-12 grid md:grid-cols-3 gap-6 text-center">
                  <div className="bg-white rounded-xl p-6 shadow-lg">
                    <div className="flex justify-center mb-2"><Mail /></div>
                    <div className="font-semibold text-gray-900">Email</div>
                    <div className="text-green-600">preeti.thakur@tutanota.com</div>
                  </div>
                  <div className="bg-white rounded-xl p-6 shadow-lg">
                    <div className="flex justify-center mb-2"><Phone /></div>
                    <div className="font-semibold text-gray-900">WhatsApp</div>
                    <div className="text-green-600">Available after booking</div>
                  </div>
                  <div className="bg-white rounded-xl p-6 shadow-lg">
                    <div className="flex justify-center mb-2"><Clock /></div>
                    <div className="font-semibold text-gray-900">Response Time</div>
                    <div className="text-green-600">Within 24 hours</div>
                  </div>
                </div>
              </div>
            )}

            {/* Footer */}
            <footer className="bg-gray-900 text-white py-12 mt-20">
              <div className="max-w-6xl mx-auto px-4">
                <div className="grid md:grid-cols-3 gap-8 mb-8">
                  <div>
                    <div className="text-2xl font-bold mb-4">üåø PT Nutrition</div>
                    <p className="text-gray-400">Sustainable weight loss for busy professionals. Stuttgart, Germany.</p>
                  </div>
                  <div>
                    <h4 className="font-semibold mb-4">Quick Links</h4>
                    <div className="space-y-2">
                      {['home', 'about', 'services', 'testimonials', 'contact'].map(section => (
                        <button key={section} onClick={() => setActiveSection(section)} className="block text-gray-400 hover:text-white capitalize">{section}</button>
                      ))}
                    </div>
                  </div>
                  <div>
                    <h4 className="font-semibold mb-4">Get Started</h4>
                    <button onClick={() => setActiveSection('contact')} className="bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700">Book Free Call</button>
                  </div>
                </div>
                <div className="border-t border-gray-800 pt-8 text-center text-gray-500 text-sm">¬© 2025 PT Nutrition Coaching. All rights reserved.</div>
              </div>
            </footer>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<NutritionCoachingSite />);
    </script>
</body>
</html>
